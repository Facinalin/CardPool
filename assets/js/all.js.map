{"version":3,"sources":["all.js","log-sign.js"],"names":["swiper","Swiper","slidesPerView","slidesPerGroup","grid","column","autoplay","delay","loop","speed","spaceBetween","heads","document","querySelectorAll","headOt8","querySelector","memberImgAll","forEach","head","i","addEventListener","e","clickedId","target","getAttribute","clicked","getElementById","nextElementSibling","classList","contains","remove","el","add","toggle","api_Pro_Url","productData","getProduct","url","axios","get","then","response","console","log","data","renderProduct","error","productList","str","obj","item","id","title","imgUrl","channel","price","leftmember","length","Object","values","reduce","a","b","innerHTML","findGroupBtn","findGroupEvent","arr","memId","testArr","previousElementSibling","push","compare","entries","acc","cur","filtId","api_Pro_Id_Url","filt_API_Url","checkEnd","substring"],"mappings":"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","file":"all.js","sourcesContent":["////////swiper deisgn\nconst swiper = new Swiper('.swiper', {\n  slidesPerView:6,\n  slidesPerGroup:2,\n  grid: {\n    column: 3,\n  },\n  autoplay: {\n    delay: 2500,\n  },\n  loop: true,\n  speed: 300,\n  spaceBetween: 50,\n});\n\n/*const swiper2 = document.querySelector('.swiper').swiper;\nswiper2.slideNext();*/\n\n////////curosr deisgn\n/*const cursorSmall = document.querySelector('.small');\nconst cursorBig = document.querySelector('.big');\n\nconst positionElement = (e) =>{\n  const mouseY = e.clientY;\n  const mouseX = e.clientX;\n  \n  cursorSmall.style.transform = `translate3d(${mouseX}px,${mouseY}px,0)`;\n  \n  cursorBig.style.transform = `translate3d(${mouseX}px,${mouseY}px,0)`;\n}\nwindow.addEventListener('mousemove', positionElement);*/\n\n\n//按鈕邏輯區-start\nconst heads = document.querySelectorAll('.head');\nconst headOt8 = document.querySelector('#head9');\nconst memberImgAll = document.querySelectorAll('.member-img');\n\nheads.forEach((head, i) =>{\n  head.addEventListener('click', (e) =>{\n    const clickedId = e.target.getAttribute('id') //點擊到元素的id\n    const clicked = document.getElementById(`${clickedId}`); //該id的dom元素\n    if(clickedId!=\"head9\" && headOt8.nextElementSibling.classList.contains('active')){\n      headOt8.nextElementSibling.classList.remove('active'); //清9留個人：如果點到的不是9號按鈕，且，9號按鈕子層元素的class有紫邊的話，將9號按鈕的紫邊移除。\n    }\n    if(clickedId ===\"head9\" && !clicked.nextElementSibling.classList.contains('active')){\n       memberImgAll.forEach(el =>{\n        el.classList.remove('active');\n      })\n      headOt8.nextElementSibling.classList.add('active');//清個人留9：如果點到的是9號按鈕，且，9號按鈕子層元素沒有紫邊的話，先將1-8號的紫邊移除，再幫9號加上紫邊。\n    }\n    else{\n    memberImgAll[i].classList.toggle('active'); } //其他狀況：個別獨立toggle，放在else裡\n  })\n})\n\n//按鈕邏輯區-end\n\n//登入註冊區-start\n//按鈕切換頁面\n/*const toLoginBtn = document.getElementById('toLogin-btn');\nconst toSignBtn = document.getElementById('toSign-btn');\nconst signUpArea = document.querySelector('.signUpArea');\nconst logInArea = document.querySelector('.logInArea');\n\ntoLoginBtn.addEventListener('click', (e) =>{\n  logInArea.classList.remove('display-none');\n  signUpArea.classList.add('display-none');\n})\n\ntoSignBtn.addEventListener('click', (e) =>{\n  signUpArea.classList.remove('display-none');\n  logInArea.classList.add('display-none');\n})*/\n//登入註冊區-end\n\n//產品渲染區-start\nconst api_Pro_Url = 'http://localhost:3000/products';\nlet productData = [];\n\ngetProduct(`${api_Pro_Url}`);\n\n//`${api_Pro_Url}`\n\nfunction getProduct(url){\n  axios.get(url)\n  .then(function(response){\n    console.log(response.data);\n    productData = response.data;\n    renderProduct(productData);\n  })\n  .catch(function(error){\n    console.log(error);\n  })\n}\n\n\n\nconst productList = document.querySelector('.product-row');\n\nconsole.log(productList);\nfunction renderProduct(data){\n   let str = \"\";\n   let obj= {};\n   data.forEach(item =>{\n    const {id, title, imgUrl, channel, price, leftmember} = item;\n    if(data.length>0 && productList){\n      //obj為計算每一個item裡的leftmember中true跟false數量的物件\n    obj = Object.values(leftmember).reduce((a,b) => {\n      if(a[b]){a[b]++;}\n      else{a[b]=1}\n      return a},{});\n      //下方組html字串\n    str += `<div id=\"${id}\" class=\"card col-lg-3 col-md-4 col-sm-6 px-2 border border-0 mb-5\">\n    <div class=\"card-head d-flex justify-content-center\">\n    <a href=\"/product.html\" class=\"card-img-topa\"><img src=\"${imgUrl}\" class=\"card-img-top\" alt=\"...\"></a>\n  </div>\n    <div class=\"card-body px-4\">\n      <p class=\"card-title fz-20-w\">${title}</p>\n        <h6 class=\"channel text-primary mb-2\">${channel}</h6>\n        <h6 class=\"price text-secondary\">$<span>${price}</span></h6>\n      <p class=\"card-text mt-7\">差<span class=\"group-mem-num text-orange\">${obj['true']}</span>位成團</p>\n    </div>\n  </div>`;\n}else{\n  return \"\";\n}\nproductList.innerHTML = str;\n   })\n}\n//產品渲染區-end\n\n//card-group 找幾團按鈕\nconst findGroupBtn = document.querySelector('#findGroupBtn');\n\n\nfindGroupEvent();\n\nfunction findGroupEvent(){\n  if(findGroupBtn){\nfindGroupBtn.addEventListener('click', (e) =>{\n  let arr = []; //active的id們的陣列\n  let memId; //active的id\n  let testArr = []; //篩選出空位的成員：第一次聯集\nmemberImgAll.forEach(el =>{\n    if(el.classList.contains('active')){\n      memId = (el.previousElementSibling).getAttribute('id')[4];  \n      arr.push(memId);\n    }\n  })//取畫面上的成員id\n\n    productData.forEach(item =>{\n      const {leftmember, id} = item;\n      //只要符合其中一位成員就先丟到陣列裡\n      arr.forEach(el =>{\n      if(leftmember[el]===true){\n        testArr.push(id);\n      }\n    })\n    })\n    console.log(testArr); \n    //第一次聯集的結果先轉成key與value互配形式：得到每一個產品id有符合幾位成員\n    let compare = Object.entries(testArr.reduce((acc,cur) =>{\n      if(acc[cur]){\n        acc[cur]++;\n      }else{\n        acc[cur]=1;\n      }\n      return acc;\n    },{}));\n    let filtId = [];\n    console.log(compare);\n    //篩選出空位的成員：第二次增加條件達到交集，要兩位皆符合才會回傳\n    compare.forEach(item =>{\n      if(item[1]==arr.length){\n        filtId.push(item[0]);\n      }\n    })\n    console.log(`產品id${filtId}`); //這是篩選出來可渲染的產品id\n    //組json的url字串\n    let api_Pro_Id_Url = `${api_Pro_Url}?id=`;\n    let filt_API_Url = \"\";\n    let checkEnd = '';\n    filtId.forEach(item =>{\n      if(filtId.length===1){\n      api_Pro_Id_Url+= item;  \n      }else{\n      api_Pro_Id_Url+=`${item}&id=`; \n      } \n    })\n    checkEnd = api_Pro_Id_Url.substring(api_Pro_Id_Url.length-4,api_Pro_Id_Url.length)\n    //修剪字串末多餘字元\n    if(checkEnd==\"&id=\"){\n      filt_API_Url = api_Pro_Id_Url.substring(0,api_Pro_Id_Url.length-4);\n    }\n    console.log(api_Pro_Id_Url);\n    console.log(filt_API_Url);//實際上要axios.get的json url\n    getProduct(`${filt_API_Url}`);\n})\n}\n}\n\n\n//api_Pro_Id_Url.substring(0,api_Pro_Id_Url.length-4)\n//const array1 = [5, 12, 8, 130, 44];\n//const arr2 = [5, 12, 8, 130, 44];\n//console.log(JSON.stringify(array1)===JSON.stringify(arr2));\n\n//可以用sort因為陣列長度<10，sort會使用Insertion Sort，不會有10以上Quick Sort的不穩定現象。\n//比較兩個陣列是否相等：JSON.stringify(a)===JSON.stringify(b);或是while迴圈\n\n","console.log('成功');"]}